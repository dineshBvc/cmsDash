<ion-app>

  <ion-menu contentId="main-content" type="overlay">
    <ion-content>
      <ion-list id="inbox-list">
        <ion-menu-toggle auto-hide="false">
          <div [routerLink]="['/dashboard']" class="ion-margin-bottom">
            <ion-list-header>BVC</ion-list-header>
          </div>

          <ion-item routerDirection="root" [routerLink]="['dashboard']" lines="none" detail="false"
            routerLinkActive="selected">
            <ion-label> Dashboard </ion-label>
          </ion-item>
        </ion-menu-toggle>

        <ion-accordion-group #accordionGroup>

          @if(HasAppType('VM')){
          <ion-accordion value="VM">
            <ion-item slot="header" color="light">
              <ion-label>VENDING MACHINE</ion-label>
            </ion-item>
            <div class="ion-padding" slot="content">
              <ion-menu-toggle auto-hide="false">

                <ion-item routerDirection="root" [routerLink]="['category', 'vm']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Category </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['products', 'vm']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Products </ion-label>
                </ion-item>



              </ion-menu-toggle>
            </div>
          </ion-accordion>
          }

          @if(HasAppType('KIOSK'))
          {
          <ion-accordion value="KIOSK">
            <ion-item slot="header" color="light">
              <ion-label>KIOSK</ion-label>
            </ion-item>
            <div class="ion-padding" slot="content">
              <ion-menu-toggle auto-hide="false">

                <ion-item routerDirection="root" [routerLink]="['category', 'kiosk']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Category </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['products' , 'kiosk']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Products </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['stocks']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Stocks </ion-label>
                </ion-item>


              </ion-menu-toggle>
            </div>
          </ion-accordion>
          }

          <ion-accordion value="REPORTS">
            <ion-item slot="header" color="light">
              <ion-label>REPORTS</ion-label>
            </ion-item>
            <div class="ion-padding" slot="content">
              <ion-menu-toggle auto-hide="false">

                <ion-item routerDirection="root" [routerLink]="['reports', 'sales']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Sales </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['reports', 'sales-product']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Sales - Products </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['reports', 'sales-user']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Sales - Users </ion-label>
                </ion-item>

                
                <ion-item routerDirection="root" [routerLink]="['reports', 'cash-refund-request']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Cash Refund Request </ion-label>
                </ion-item>

                @if(HasAppType('VM')){
                <ion-item routerDirection="root" [routerLink]="['reports', 'current-stock']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Current Stocks </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['reports', 'stock-required']" lines="none"
                  detail="false" routerLinkActive="selected">
                  <ion-label> Stock Required </ion-label>
                </ion-item>


                <ion-item routerDirection="root" [routerLink]="['reports', 'stock-refill']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Stock Refills </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['reports', 'stock-cleared']" lines="none" detail="false"
                  routerLinkActive="selected">
                  <ion-label> Stock Cleared </ion-label>
                </ion-item>

                <ion-item routerDirection="root" [routerLink]="['reports', 'stock-refill-summary']" lines="none"
                  detail="false" routerLinkActive="selected">
                  <ion-label> Stock Refill Summary </ion-label>
                </ion-item>
                }
 
              </ion-menu-toggle>
            </div>
          </ion-accordion>

        </ion-accordion-group>
      </ion-list>
    </ion-content>
  </ion-menu>

  @if (isAuthenticated) {
  <ion-header>
    <ion-toolbar color="primary">
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>

      <ion-title mode="ios">
        <img src="../assets/images/Logo.png" routerDirection="root" [routerLink]="['dashboard']" />
      </ion-title>

      <ion-buttons slot="end" id="userProfile">

        <ion-icon name="person-outline"></ion-icon>
      </ion-buttons>

    </ion-toolbar>
  </ion-header>


  <ion-popover trigger="userProfile" triggerAction="click">
    <ng-template>

      <ion-content class="ion-padding">
        <ion-list lines="none" class="userMenu">
          <ion-list-header>
            <ion-label>{{ username}}</ion-label>
          </ion-list-header>

          <ion-item button (click)="Register()">
            <ion-icon slot="start" name="person-circle-outline"></ion-icon>
            <ion-label> Register </ion-label>
          </ion-item>
          

          <ion-item button (click)="Logout()">
            <ion-icon slot="start" name="log-out-outline"></ion-icon>
            <ion-label> Logout</ion-label>
          </ion-item>

        </ion-list>
      </ion-content>
    </ng-template>
  </ion-popover>


  }

  <ion-content>
    <ion-router-outlet id="main-content">

    </ion-router-outlet>
  </ion-content>



</ion-app>